{% extends 'menu/base.html' %}
{% load menu_tags %}

{% block title %}{% if user_menu_language == 'lt' %}Valdymo skydas{% else %}Dashboard{% endif %}{% endblock %}

{% block content %}
<div class="card">
    <h2>{% if user_menu_language == 'lt' %}Meniu valdymo skydas{% else %}Menu Management Dashboard{% endif %}</h2>
    <p>{% if user_menu_language == 'lt' %}Sveiki atvykę į meniu valdymo sistemą. Naudokite navigaciją aukščiau, norėdami valdyti patiekalus ir dienos meniu.{% else %}Welcome to the menu management system. Use the navigation above to manage dishes and daily menus.{% endif %}</p>
</div>

<div class="card">
    <h3>{% if user_menu_language == 'lt' %}Greiti veiksmai{% else %}Quick Actions{% endif %}</h3>
    <a href="{% url 'user_menu:dish_create' %}" class="btn btn-success">{% if user_menu_language == 'lt' %}Sukurti naują patiekalą{% else %}Create New Dish{% endif %}</a>
    <a href="{% url 'user_menu:daily_menu_create' %}" class="btn btn-success">{% if user_menu_language == 'lt' %}Sukurti dienos meniu{% else %}Create Daily Menu{% endif %}</a>
</div>

<div class="card">
    <h3>{% if user_menu_language == 'lt' %}Šios savaitės meniu{% else %}This Week's Menus{% endif %}</h3>
    <table>
        <thead>
            <tr>
                <th>{% if user_menu_language == 'lt' %}Data{% else %}Date{% endif %}</th>
                <th>{% if user_menu_language == 'lt' %}Būsena{% else %}Status{% endif %}</th>
                <th>{% if user_menu_language == 'lt' %}Patiekalai{% else %}Dishes{% endif %}</th>
                <th>{% if user_menu_language == 'lt' %}Veiksmai{% else %}Actions{% endif %}</th>
            </tr>
        </thead>
        <tbody>
            {% for menu in daily_menus %}
            <tr>
                <td>{{ menu.date }}</td>
                <td>{% if menu.published %}<span style="color: green;">{% if user_menu_language == 'lt' %}Paskelbtas{% else %}Published{% endif %}</span>{% else %}<span style="color: orange;">{% if user_menu_language == 'lt' %}Juodraštis{% else %}Draft{% endif %}</span>{% endif %}</td>
                <td>{{ menu.dishes.count }} {% if user_menu_language == 'lt' %}patiekalai{% else %}dishes{% endif %}</td>
                <td><a href="{% url 'user_menu:daily_menu_edit' menu.pk %}" class="btn">{% if user_menu_language == 'lt' %}Redaguoti{% else %}Edit{% endif %}</a></td>
            </tr>
            {% empty %}
            <tr><td colspan="4">{% if user_menu_language == 'lt' %}Šiai savaitei meniu nėra.{% else %}No menus for this week.{% endif %} <a href="{% url 'user_menu:daily_menu_create' %}">{% if user_menu_language == 'lt' %}Sukurti{% else %}Create one{% endif %}</a></td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="card">
    <h3>{% if user_menu_language == 'lt' %}Aktyvūs patiekalai{% else %}Active Dishes{% endif %} ({{ dishes.count }})</h3>
    <a href="{% url 'user_menu:dish_list' %}" class="btn">{% if user_menu_language == 'lt' %}Peržiūrėti visus patiekalus{% else %}View All Dishes{% endif %}</a>
</div>
{% endblock %}

